{"remainingRequest":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/eslint-loader/index.js??ref--14-0!/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/src/store/user.js","dependencies":[{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/src/store/user.js","mtime":1669819467721},{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/babel.config.js","mtime":1668068781058},{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/cache-loader/dist/cjs.js","mtime":1668068760194},{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/babel-loader/lib/index.js","mtime":1668068763847},{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/eslint-loader/index.js","mtime":1668068760479}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICQgZnJvbSAnanF1ZXJ5JzsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiB7CiAgICBpZDogIiIsCiAgICB1c2VybmFtZTogIiIsCiAgICBwaG90bzogIiIsCiAgICB0b2tlbjogIiIsCiAgICBpc19sb2dpbjogZmFsc2UKICB9LAogIGdldHRlcnM6IHt9LAogIG11dGF0aW9uczogewogICAgdXBkYXRlVXNlcihzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS5pZCA9IHVzZXIuaWQ7CiAgICAgIHN0YXRlLnVzZXJuYW1lID0gdXNlci51c2VybmFtZTsKICAgICAgc3RhdGUucGhvdG8gPSB1c2VyLnBob3RvOwogICAgICBzdGF0ZS5pc19sb2dpbiA9IHVzZXIuaXNfbG9naW47CiAgICB9LAogICAgdXBkYXRlVG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgbG9nb3V0KGNvbnRleHQsIGRhdGEpIHt9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbihjb250ZXh0LCBkYXRhKSB7CiAgICAgICQuYWpheCh7CiAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTozMDAwL3VzZXIvYWNjb3VudC90b2tlbi8iLAogICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkCiAgICAgICAgfSwKICAgICAgICBzdWNjZXNzKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwLmVycm9yX21lc3NhZ2UgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgidXBkYXRlVG9rZW4iLCByZXNwLnRva2VuKTsKICAgICAgICAgICAgZGF0YS5zdWNjZXNzKHJlc3ApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF0YS5lcnJvcihyZXNwKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGVycm9yKHJlc3ApIHsKICAgICAgICAgIGRhdGEuZXJyb3IocmVzcCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRpbmZvKGNvbnRleHQsIGRhdGEpIHsKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlci9hY2NvdW50L2luZm8vIiwKICAgICAgICB0eXBlOiAiZ2V0IiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBjb250ZXh0LnN0YXRlLnRva2VuCiAgICAgICAgfSwKICAgICAgICBzdWNjZXNzKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwLmVycm9yX21lc3NhZ2UgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgidXBkYXRlVXNlciIsIHsKICAgICAgICAgICAgICAuLi5yZXNwLAogICAgICAgICAgICAgIGlzX2xvZ2luOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkYXRhLnN1Y2Nlc3MocmVzcCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhLmVycm9yKHJlc3ApOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZXJyb3IocmVzcCkgewogICAgICAgICAgZGF0YS5lcnJvcihyZXNwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfTs="},{"version":3,"names":["$","state","id","username","photo","token","is_login","getters","mutations","updateUser","user","updateToken","logout","context","data","actions","login","ajax","url","type","password","success","resp","error_message","commit","error","getinfo","headers","Authorization","modules"],"sources":["/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/src/store/user.js"],"sourcesContent":["import $ from 'jquery'\n\nexport default {\n    state: {\n        id: \"\",\n        username: \"\",\n        photo: \"\",\n        token: \"\",\n        is_login: false,\n    },\n    getters: {\n    },\n    mutations: {\n        updateUser(state, user){\n            state.id = user.id;\n            state.username = user.username;\n            state.photo = user.photo;\n            state.is_login = user.is_login;\n        },\n        updateToken(state, token){\n            state.token = token;\n        },\n        logout(context,data){\n            \n        }\n    },\n    actions: {\n        login(context, data){\n            $.ajax({\n                url: \"http://127.0.0.1:3000/user/account/token/\",\n                type: \"post\",\n                data: {\n                    username: data.username,\n                    password: data.password,\n                },\n                success(resp) {\n                    if (resp.error_message === \"success\") {\n                        context.commit(\"updateToken\", resp.token);\n                        data.success(resp);\n                    } else {\n                        data.error(resp);\n                    }\n                },\n                error(resp) {\n                    data.error(resp);\n                }\n            });\n        },\n        getinfo(context, data){\n            $.ajax({\n                url: \"http://localhost:3000/user/account/info/\",\n                type: \"get\",\n                headers: {\n                    Authorization: \"Bearer \" + context.state.token,\n                },\n                success(resp){\n                    if(resp.error_message === \"success\"){\n                        context.commit(\"updateUser\",{\n                            ...resp,\n                            is_login: true,\n                        });\n                        data.success(resp);\n                    } else{\n                        data.error(resp);\n                    }\n                   \n                },\n                error(resp){\n                    data.error(resp);\n                },\n            });\n        },\n        \n    },\n    modules: {\n    }\n}"],"mappings":"AAAA,OAAOA,CAAC,MAAM,QAAQ;AAEtB,eAAe;EACXC,KAAK,EAAE;IACHC,EAAE,EAAE,EAAE;IACNC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACd,CAAC;EACDC,OAAO,EAAE,CACT,CAAC;EACDC,SAAS,EAAE;IACPC,UAAU,CAACR,KAAK,EAAES,IAAI,EAAC;MACnBT,KAAK,CAACC,EAAE,GAAGQ,IAAI,CAACR,EAAE;MAClBD,KAAK,CAACE,QAAQ,GAAGO,IAAI,CAACP,QAAQ;MAC9BF,KAAK,CAACG,KAAK,GAAGM,IAAI,CAACN,KAAK;MACxBH,KAAK,CAACK,QAAQ,GAAGI,IAAI,CAACJ,QAAQ;IAClC,CAAC;IACDK,WAAW,CAACV,KAAK,EAAEI,KAAK,EAAC;MACrBJ,KAAK,CAACI,KAAK,GAAGA,KAAK;IACvB,CAAC;IACDO,MAAM,CAACC,OAAO,EAACC,IAAI,EAAC,CAEpB;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,KAAK,CAACH,OAAO,EAAEC,IAAI,EAAC;MAChBd,CAAC,CAACiB,IAAI,CAAC;QACHC,GAAG,EAAE,2CAA2C;QAChDC,IAAI,EAAE,MAAM;QACZL,IAAI,EAAE;UACFX,QAAQ,EAAEW,IAAI,CAACX,QAAQ;UACvBiB,QAAQ,EAAEN,IAAI,CAACM;QACnB,CAAC;QACDC,OAAO,CAACC,IAAI,EAAE;UACV,IAAIA,IAAI,CAACC,aAAa,KAAK,SAAS,EAAE;YAClCV,OAAO,CAACW,MAAM,CAAC,aAAa,EAAEF,IAAI,CAACjB,KAAK,CAAC;YACzCS,IAAI,CAACO,OAAO,CAACC,IAAI,CAAC;UACtB,CAAC,MAAM;YACHR,IAAI,CAACW,KAAK,CAACH,IAAI,CAAC;UACpB;QACJ,CAAC;QACDG,KAAK,CAACH,IAAI,EAAE;UACRR,IAAI,CAACW,KAAK,CAACH,IAAI,CAAC;QACpB;MACJ,CAAC,CAAC;IACN,CAAC;IACDI,OAAO,CAACb,OAAO,EAAEC,IAAI,EAAC;MAClBd,CAAC,CAACiB,IAAI,CAAC;QACHC,GAAG,EAAE,0CAA0C;QAC/CC,IAAI,EAAE,KAAK;QACXQ,OAAO,EAAE;UACLC,aAAa,EAAE,SAAS,GAAGf,OAAO,CAACZ,KAAK,CAACI;QAC7C,CAAC;QACDgB,OAAO,CAACC,IAAI,EAAC;UACT,IAAGA,IAAI,CAACC,aAAa,KAAK,SAAS,EAAC;YAChCV,OAAO,CAACW,MAAM,CAAC,YAAY,EAAC;cACxB,GAAGF,IAAI;cACPhB,QAAQ,EAAE;YACd,CAAC,CAAC;YACFQ,IAAI,CAACO,OAAO,CAACC,IAAI,CAAC;UACtB,CAAC,MAAK;YACFR,IAAI,CAACW,KAAK,CAACH,IAAI,CAAC;UACpB;QAEJ,CAAC;QACDG,KAAK,CAACH,IAAI,EAAC;UACPR,IAAI,CAACW,KAAK,CAACH,IAAI,CAAC;QACpB;MACJ,CAAC,CAAC;IACN;EAEJ,CAAC;EACDO,OAAO,EAAE,CACT;AACJ,CAAC"}]}