{"remainingRequest":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/src/views/ChongDianZhuang.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/src/views/ChongDianZhuang.vue","mtime":1670248952413},{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/babel.config.js","mtime":1668068781058},{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/cache-loader/dist/cjs.js","mtime":1668068760194},{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/babel-loader/lib/index.js","mtime":1668068763847},{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/cache-loader/dist/cjs.js","mtime":1668068760194},{"path":"/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/node_modules/vue-loader-v16/dist/index.js","mtime":1668068761558}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnYm9vdHN0cmFwL2Rpc3QvanMvYm9vdHN0cmFwJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaG9uZ0RpYW5aaHVhbmcnLAogIHNldHVwKCkgewogICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgbGV0IGNoYXJnaW5ncyA9IHJlZihbXSk7CiAgICBjb25zdCBjaGFyZ2luZ2FkZCA9IHJlYWN0aXZlKHsKICAgICAgY2hhcmdpbmdTdGF0ZTogIiIsCiAgICAgIHJ1bm5pbmdTdGF0ZTogIiIsCiAgICAgIGFkZHJlc3M6ICIiLAogICAgICBlcnJvcl9tZXNzYWdlOiAiIgogICAgfSk7CiAgICAkLmFqYXgoewogICAgICB1cmw6ICJodHRwOi8vMTI3LjAuMC4xOjMwMDAvY2hhcmdpbmcvZ2V0bGlzdC8iLAogICAgICB0eXBlOiAiZ2V0IiwKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHN0b3JlLnN0YXRlLnVzZXIudG9rZW4KICAgICAgfSwKICAgICAgc3VjY2VzcyhyZXNwKSB7CiAgICAgICAgY2hhcmdpbmdzLnZhbHVlID0gcmVzcDsKICAgICAgfQogICAgfSk7CiAgICBjb25zdCByZWZyZXNoX2NoYXJnaW5ncyA9ICgpID0+IHsKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6ICJodHRwOi8vMTI3LjAuMC4xOjMwMDAvY2hhcmdpbmcvZ2V0bGlzdC8iLAogICAgICAgIHR5cGU6ICJnZXQiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHN0b3JlLnN0YXRlLnVzZXIudG9rZW4KICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3MocmVzcCkgewogICAgICAgICAgY2hhcmdpbmdzLnZhbHVlID0gcmVzcDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICAgIHJlZnJlc2hfY2hhcmdpbmdzKCk7CiAgICBjb25zdCBhZGRfY2hhcmdpbmcgPSAoKSA9PiB7CiAgICAgIGNoYXJnaW5nYWRkLmVycm9yX21lc3NhZ2UgPSAiIjsKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6ICJodHRwOi8vMTI3LjAuMC4xOjMwMDAvY2hhcmdpbmcvYWRkLyIsCiAgICAgICAgdHlwZTogInBvc3QiLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGNoYXJnaW5nU3RhdGU6IGNoYXJnaW5nYWRkLmNoYXJnaW5nU3RhdGUsCiAgICAgICAgICBydW5uaW5nU3RhdGU6IGNoYXJnaW5nYWRkLnJ1bm5pbmdTdGF0ZSwKICAgICAgICAgIGFkZHJlc3M6IGNoYXJnaW5nYWRkLmFkZHJlc3MKICAgICAgICB9LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHN0b3JlLnN0YXRlLnVzZXIudG9rZW4KICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3MocmVzcCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7CiAgICAgICAgICBpZiAocmVzcC5lcnJvcl9tZXNzYWdlID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgICAgY2hhcmdpbmdhZGQuY2hhcmdpbmdTdGF0ZSA9ICIiLCBjaGFyZ2luZ2FkZC5ydW5uaW5nU3RhdGUgPSAiIiwgY2hhcmdpbmdhZGQuYWRkcmVzcyA9ICIiLCBNb2RhbC5nZXRJbnN0YW5jZSgiI2FkZC1jaGFyZ2luZy1idG4iKS5oaWRlKCk7CiAgICAgICAgICAgIHJlZnJlc2hfY2hhcmdpbmdzKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjaGFyZ2luZ2FkZC5lcnJvcl9tZXNzYWdlID0gcmVzcC5lcnJvcl9tZXNzYWdlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgY29uc3QgcmVtb3ZlX2NoYXJnaW5nID0gY2hhcmdpbmcgPT4gewogICAgICAkLmFqYXgoewogICAgICAgIHVybDogImh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9jaGFyZ2luZy9kZWxldGUvIiwKICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgY2hhcmdpbmdJZDogY2hhcmdpbmcuY2hhcmdpbmdJZAogICAgICAgIH0sCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgc3RvcmUuc3RhdGUudXNlci50b2tlbgogICAgICAgIH0sCiAgICAgICAgc3VjY2VzcyhyZXNwKSB7CiAgICAgICAgICBpZiAocmVzcC5lcnJvcl9tZXNzYWdlID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgICAgcmVmcmVzaF9jaGFyZ2luZ3MoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IHVwZGF0ZV9jaGFyZ2luZyA9IGNoYXJnaW5nID0+IHsKICAgICAgY2hhcmdpbmdhZGQuZXJyb3JfbWVzc2FnZSA9ICIiOwogICAgICAkLmFqYXgoewogICAgICAgIHVybDogImh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9jaGFyZ2luZy91cGRhdGUvIiwKICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgY2hhcmdpbmdJZDogY2hhcmdpbmcuY2hhcmdpbmdJZCwKICAgICAgICAgIGNoYXJnaW5nU3RhdGU6IGNoYXJnaW5nLmNoYXJnaW5nU3RhdGUsCiAgICAgICAgICBydW5uaW5nU3RhdGU6IGNoYXJnaW5nLnJ1bm5pbmdTdGF0ZSwKICAgICAgICAgIGFkZHJlc3M6IGNoYXJnaW5nLmFkZHJlc3MKICAgICAgICB9LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHN0b3JlLnN0YXRlLnVzZXIudG9rZW4KICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3MocmVzcCkgewogICAgICAgICAgaWYgKHJlc3AuZXJyb3JfbWVzc2FnZSA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgIE1vZGFsLmdldEluc3RhbmNlKCcjdXBkYXRlLWNoYXJnaW5nLW1vZGFsLScgKyBjaGFyZ2luZy5jaGFyZ2luZ0lkKS5oaWRlKCk7CiAgICAgICAgICAgIHJlZnJlc2hfY2hhcmdpbmdzKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjaGFyZ2luZy5lcnJvcl9tZXNzYWdlID0gcmVzcC5lcnJvcl9tZXNzYWdlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgY29uc3QgdXNlX2NoYXJnaW5nID0gY2hhcmdpbmcgPT4gewogICAgICBjaGFyZ2luZ2FkZC5lcnJvcl9tZXNzYWdlID0gIiI7CiAgICAgICQuYWpheCh7CiAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTozMDAwL2NoYXJnaW5nL3VzaW5nLyIsCiAgICAgICAgdHlwZTogInBvc3QiLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGNoYXJnaW5nSWQ6IGNoYXJnaW5nLmNoYXJnaW5nSWQsCiAgICAgICAgICBjaGFyZ2luZ1N0YXRlOiBjaGFyZ2luZy5jaGFyZ2luZ1N0YXRlLAogICAgICAgICAgcnVubmluZ1N0YXRlOiBjaGFyZ2luZy5ydW5uaW5nU3RhdGUsCiAgICAgICAgICB0aW1lOiBjaGFyZ2luZy50aW1lLAogICAgICAgICAgbW9uZXk6IChjaGFyZ2luZy50aW1lICogMC4wNSkudG9GaXhlZCgyKQogICAgICAgIH0sCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgc3RvcmUuc3RhdGUudXNlci50b2tlbgogICAgICAgIH0sCiAgICAgICAgc3VjY2VzcyhyZXNwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsKICAgICAgICAgIGlmIChyZXNwLmVycm9yX21lc3NhZ2UgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgICBNb2RhbC5nZXRJbnN0YW5jZSgnI3VzZS1jaGFyZ2luZy1tb2RhbC0nICsgY2hhcmdpbmcuY2hhcmdpbmdJZCkuaGlkZSgpOwogICAgICAgICAgICByZWZyZXNoX2NoYXJnaW5ncygpOwogICAgICAgICAgICByZWxvYWQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNoYXJnaW5nLmVycm9yX21lc3NhZ2UgPSByZXNwLmVycm9yX21lc3NhZ2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgICByZXR1cm4gewogICAgICBjaGFyZ2luZ3MsCiAgICAgIHJlZnJlc2hfY2hhcmdpbmdzLAogICAgICBhZGRfY2hhcmdpbmcsCiAgICAgIGNoYXJnaW5nYWRkLAogICAgICByZW1vdmVfY2hhcmdpbmcsCiAgICAgIHVwZGF0ZV9jaGFyZ2luZywKICAgICAgdXNlX2NoYXJnaW5nCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"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","names":["ref","reactive","$","useStore","Modal","name","setup","store","chargings","chargingadd","chargingState","runningState","address","error_message","ajax","url","type","headers","Authorization","state","user","token","success","resp","value","refresh_chargings","add_charging","data","console","log","getInstance","hide","remove_charging","charging","chargingId","update_charging","use_charging","time","money","toFixed","reload"],"sourceRoot":"","sources":["/Users/apple/Desktop/课程/Java/java课程设计/charging_station/web/src/views/ChongDianZhuang.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n          <span style=\"font-size: 130%\">充电桩</span>\n          <button v-if=\"($store.state.user.id==1||$store.state.user.id==2||$store.state.user.id==3)\" type=\"button\" class=\"btn btn-success float-end\" data-bs-toggle=\"modal\" data-bs-target=\"#add-charging-btn\">\n            创建充电桩\n         </button>\n         <!-- Modal -->\n         <div class=\"modal fade\" id=\"add-charging-btn\" tabindex=\"-1\">\n          <div class=\"modal-dialog\">\n              <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                  <h5 class=\"modal-title\">创建充电桩</h5>\n                  <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n                  <div class=\"mb-3\">\n                      <label for=\"add-charging-chargingState\" class=\"form-label\">充电状态(1:使用中,0:未使用)</label>\n                      <input v-model=\"chargingadd.chargingState\" type=\"text\" class=\"form-control\" id=\"add-charging-chargingState\" placeholder=\"请输入充电桩的充电状态\">\n                  </div>\n                  <div class=\"mb-3\">\n                      <label for=\"add-charging-runningState\" class=\"form-label\">运转状态(1:良好,0:故障)</label>\n                      <input v-model=\"chargingadd.runningState\" class=\"form-control\" id=\"add-charging-runningState\" rows=\"3\" placeholder=\"请输入充电桩的运转状态\">\n                  </div>\n                  <div class=\"mb-3\">\n                    <label for=\"add-charging-address\" class=\"form-label\">地址</label>\n                    <textarea v-model=\"chargingadd.address\" class=\"form-control\" id=\"add-charging-address\" rows=\"3\" placeholder=\"请输入充电桩的地址\"></textarea>\n                </div>\n                 \n              </div>\n              <div class=\"modal-footer\">\n                  <div class=\"error-message\">{{ chargingadd.error_message }}</div>\n                  <button type=\"button\" class=\"btn btn-primary\" @click=\"add_charging\">创建</button>\n                  <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n              </div>\n              </div>\n            </div>\n         </div>\n        </div>\n        <div class=\"card-body\">\n          <table class=\"table table-striped\">\n            <thead>\n              <tr>\n                <th scope=\"col\">编号</th>\n                <th scope=\"col\">充电状态</th>\n                <th scope=\"col\">运转状态</th>\n                <th scope=\"col\">地址</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"charging in chargings\" :key=\"charging.charging_id\">\n                <th>{{ charging.chargingId }}</th>\n                <th v-if=\"(charging.chargingState==1)\">使用中</th>\n                <th v-else>未使用</th>\n                <th v-if=\"(charging.runningState==1)\">良好</th>\n                <th v-else>故障</th>\n                <th>{{ charging.address }}</th>\n                <th>\n                  <button v-if=\"($store.state.user.id==1||$store.state.user.id==2||$store.state.user.id==3)\" type=\"button\" class=\"btn btn-secondary\" style=\"margin-right: 10px;\" data-bs-toggle=\"modal\" :data-bs-target=\"('#update-charging-modal-' + charging.chargingId)\">修改</button>\n                  <button v-if=\"($store.state.user.id==1||$store.state.user.id==2||$store.state.user.id==3)\" type=\"button\" class=\"btn btn-danger\" style=\"margin-right: 10px;\" @click=\"remove_charging(charging)\">删除</button>\n                  <button type=\"button\" class=\"btn btn-success\" style=\"margin-right: 10px;\" data-bs-toggle=\"modal\" :data-bs-target=\"('#use-charging-modal-' + charging.chargingId)\">充电</button>\n\n                  <div class=\"modal fade\" :id=\"('update-charging-modal-' + charging.chargingId)\" tabindex=\"-1\">\n                    <div class=\"modal-dialog\">\n                        <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5 class=\"modal-title\">创建充电桩</h5>\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div class=\"modal-body\">\n                            <div class=\"mb-3\">\n                                <label for=\"add-charging-chargingState\" class=\"form-label\">充电状态(1:使用中,0:未使用)</label>\n                                <input v-model=\"charging.chargingState\" type=\"text\" class=\"form-control\" id=\"add-charging-chargingState\" placeholder=\"请输入充电桩的充电状态\">\n                            </div>\n                            <div class=\"mb-3\">\n                                <label for=\"add-charging-runningState\" class=\"form-label\">运转状态(1:良好,0:故障)</label>\n                                <input v-model=\"charging.runningState\" class=\"form-control\" id=\"add-charging-runningState\" rows=\"3\" placeholder=\"请输入充电桩的运转状态\">\n                            </div>\n                            <div class=\"mb-3\">\n                              <label for=\"add-charging-address\" class=\"form-label\">地址</label>\n                              <textarea v-model=\"charging.address\" class=\"form-control\" id=\"add-charging-address\" rows=\"3\" placeholder=\"请输入充电桩的地址\"></textarea>\n                          </div>\n                           \n                        </div>\n                        <div class=\"modal-footer\">\n                            <div class=\"error-message\">{{ charging.error_message }}</div>\n                            <button type=\"button\" class=\"btn btn-primary\" @click=\"update_charging(charging)\">保存修改</button>\n                            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n                        </div>\n                        </div>\n                      </div>\n                   </div>\n\n\n\n                   <div class=\"modal fade\" :id=\"('use-charging-modal-' + charging.chargingId)\" tabindex=\"-1\">\n                    <div class=\"modal-dialog\">\n                        <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5 class=\"modal-title\">充电订单</h5>\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div class=\"modal-body\">\n                            <div class=\"mb-3\">\n                                <label for=\"use-charging-chargingId\" class=\"form-label\">充电桩编号: {{ charging.chargingId }}</label>\n                            </div>\n                            <div class=\"mb-3\">\n                              <label for=\"use-charging-chargingState\" class=\"form-label\">地址: {{ charging.address  }} </label>\n                            </div>\n                            <div class=\"mb-3\">\n                              <label for=\"use-charging-time\" class=\"form-label\"> 充电时长: </label>\n                              <input v-model=\"charging.time\" style=\"width:50px\"  id=\"use-charging-time\" >\n                              <label for=\"use-charging-time\" class=\"form-label\"> 分钟 </label>\n                            </div>\n                            <div class=\"mb-3\">\n                              <label for=\"use-charging-money\" class=\"form-label\">金额: {{ (charging.time * 0.05).toFixed(2) }} 元</label>\n                            </div>\n                           \n                        </div>\n                        <div class=\"modal-footer\">\n                            <div class=\"error-message\">{{ charging.error_message }}</div>\n                            <button type=\"button\" class=\"btn btn-success\" @click=\"use_charging(charging)\">开始充电</button>\n                            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n                        </div>\n                        </div>\n                      </div>\n                   </div>\n                  \n\n                </th>\n              </tr>\n            </tbody>\n          </table>\n  \n        </div>\n    </div>\n</div>\n\n</template>\n\n\n<script>\nimport { ref,reactive } from 'vue';\nimport $ from 'jquery'\nimport { useStore } from 'vuex'\nimport { Modal } from 'bootstrap/dist/js/bootstrap'\n\nexport default{\n  name: 'ChongDianZhuang',\n  setup(){\n    const store = useStore();\n    let chargings = ref([]);\n\n    const chargingadd = reactive({\n      chargingState: \"\",\n      runningState: \"\",\n      address: \"\",\n      error_message: \"\",\n    });\n\n\n    $.ajax({\n      url: \"http://127.0.0.1:3000/charging/getlist/\",\n      type: \"get\",\n      headers: {\n          Authorization: \"Bearer \" + store.state.user.token,\n      },\n      success(resp) {\n        chargings.value = resp;\n      },\n    });\n\n    const refresh_chargings = () => {\n        $.ajax({\n            url: \"http://127.0.0.1:3000/charging/getlist/\",\n            type: \"get\",\n            headers: {\n                Authorization: \"Bearer \" + store.state.user.token,\n            },\n            success(resp) {\n                chargings.value = resp;\n            }\n        })\n    }\n\n    refresh_chargings();\n\n    const add_charging = () => {\n            chargingadd.error_message = \"\";\n            $.ajax({\n                url: \"http://127.0.0.1:3000/charging/add/\",\n                type: \"post\",\n                data: {\n                    chargingState: chargingadd.chargingState,\n                    runningState: chargingadd.runningState,\n                    address: chargingadd.address,\n                },\n                headers: {\n                    Authorization: \"Bearer \" + store.state.user.token,\n                },\n                success(resp) {\n                  console.log(resp);\n                    if (resp.error_message === \"success\") {\n                        chargingadd.chargingState = \"\",\n                        chargingadd.runningState = \"\",\n                        chargingadd.address = \"\",\n                        Modal.getInstance(\"#add-charging-btn\").hide();\n                        refresh_chargings();\n                    } else {\n                        chargingadd.error_message = resp.error_message;\n                    }\n                }\n            })\n        }\n\n\n    const remove_charging = (charging) => {\n        $.ajax({\n            url: \"http://127.0.0.1:3000/charging/delete/\",\n            type: \"post\",\n            data: {\n                chargingId: charging.chargingId,\n            },\n            headers: {\n                Authorization: \"Bearer \" + store.state.user.token,\n            },\n            success(resp) {\n                if (resp.error_message === \"success\") {\n                    refresh_chargings();\n                }\n            }\n        })\n    }\n    const update_charging = (charging) => {\n            chargingadd.error_message = \"\";\n            $.ajax({\n                url: \"http://127.0.0.1:3000/charging/update/\",\n                type: \"post\",\n                data: {\n                    chargingId: charging.chargingId,\n                    chargingState: charging.chargingState,\n                    runningState: charging.runningState,\n                    address: charging.address,\n                },\n                headers: {\n                    Authorization: \"Bearer \" + store.state.user.token,\n                },\n                success(resp) {\n                    if (resp.error_message === \"success\") {\n                        Modal.getInstance('#update-charging-modal-' + charging.chargingId).hide();\n                        refresh_chargings();\n                    } else {\n                        charging.error_message = resp.error_message;\n                    }\n                }\n            })\n        }\n      const use_charging = (charging) => {\n          chargingadd.error_message = \"\";\n          $.ajax({\n              url: \"http://127.0.0.1:3000/charging/using/\",\n              type: \"post\",\n              data: {\n                  chargingId: charging.chargingId,\n                  chargingState: charging.chargingState,\n                  runningState: charging.runningState,\n                  time: charging.time,\n                  money: (charging.time * 0.05).toFixed(2),\n              },\n              headers: {\n                  Authorization: \"Bearer \" + store.state.user.token,\n              },\n              success(resp) {\n                  console.log(resp);\n                  if (resp.error_message === \"success\") {\n                      Modal.getInstance('#use-charging-modal-' + charging.chargingId).hide();\n                      refresh_chargings();\n                      reload();\n                  } else {\n                      charging.error_message = resp.error_message;\n                  }\n              }\n          })\n      }\n    return{\n      chargings,\n      refresh_chargings,\n      add_charging,\n      chargingadd,\n      remove_charging,\n      update_charging,\n      use_charging,\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container{\n  margin-top:20px;\n}\n\ndiv.error-message {\n  color: red;\n}\n</style>"]}]}